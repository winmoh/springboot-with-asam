
## MDE (Model-driven engineering)
Model-driven engineering (MDE) is the practice of raising models to first-class artefacts of the software engineering process, using such models to analyse, simulate, and reason about properties of the system under development, and eventually, often auto-generate (a part of) its implementation⁹. MDE can be applied to various domains and levels of abstraction, such as UML diagrams, code generation, testing frameworks, etc.
## Langium 
Langium is an open source language engineering tool with first-class support for the Language Server Protocol, written in TypeScript and running in Node.js⁶. Langium allows you to create domain-specific languages (DSLs) that describe the syntax and structure of your language using a grammar language. Langium also provides utility functions to help you navigate and process the abstract syntax tree (AST) generated by your grammar.

Sboot  grammar  contains an entry rule that defines the name of the language as Sboot. it also define several elements that represent different types of entities in the DSL, such as Entity, Service, Controller, DTO, Repository. it also define some configuration options for our DSL, such as server information or database information. You use regular expressions to define terminal rules for your tokens.It is generally the aproach that seems to be the closest to the defintion and the common principles addoptedby spring boot developpers

## project description
Sboot is a DSL language that can be used to generate Spring Boot REST APIs. It uses Langium as its language engineering tool to create an AST that can be processed by Spring Boot's annotation processor. Sboot allows you to define entities with properties and inheritance relationships using Entity types. It also allows you to define services with actions using Service types. Additionally, it allows you to define controllers with mappings using Controller types. Furthermore, it allows you to define DTOs with properties using DTO types. Moreover, it allows you to define repositories with methods using Repository types. Sboot also supports database integration by defining configuration options for server information or database information.

## Sboot grammar

<pre>
    grammar Sboot // You should give a name to your grammar

    // Entry rule
    entry Head:
        'project' name=ID
        configuration=Configuration?
        (elements+=Element)*;

    // Element types
    Element:
        Entity | Service | Controller | DTO | Repository;

    // Configuration
    Configuration:
        'config' '{'
            server=ServerInfo?
            database=DatabaseInfo?
        '}';

    ServerInfo:
        'server' '{'
            ('port' port=INT)?
            ('cpath' path=PATH)?
        '}';

    DatabaseInfo:
        'database' '{'
            'dbms' type=RDBMS
            'dname' name=ID
            'dport' port=INT
            'username' username=ID
            'password' password=ID
            
        '}';

    // Entity definitions
    Entity:
        'entity' name=ID ('inherits' extends=[Entity])? '{'
            properties+=Property*
        '}';

    DTO:
        'dto' name=ID '{'
            properties+=Property*
        '}';

    Service:
        'service' name=ID 'pertainingTo' entity=[Entity] '{'
            actions+=ServiceAction*
        '}';

    Controller:
        'controller' name=ID 'mappingTo' entity=[Entity] '{'
            baseUrl=STRING?
            actions+=ControllerAction*
        '}';

    Repository:
        'repository' name=ID 'for' entity=[Entity] '{'
            methods+=RepositoryMethod*
        '}';

    // Repository methods
    RepositoryMethod:
        FindByMethod | DeleteByMethod | CustomQueryMethod;

    FindByMethod:
        'find' 'by' property=ID 'And' prop=ID ;

    DeleteByMethod:
        'delete' 'by' property=ID 'And' prop=ID;

    CustomQueryMethod:
        'customQuery' '{' query=STRING '}';

    // Service actions
    ServiceAction:
        'operation' name=ID '{'
            'returns' returnType=RType
            ('raises' exceptionType=Type)?
            ('implementation' implementation=STRING)?
            'params''('(parameters+=ActionParameter)*')'
        '}';

    ControllerAction:
        method=HttpMethods 'action' name=ID '{'
            'linkedTo' serviceAction=ID
            ('mappedAt' url=STRING)?
            parameters+=ActionParameter*
        '}';

    // Additional definitions
    ActionParameter:
        name=ID ':' type=Type ('default' defaultValue=STRING)?;

    Property:
        name=ID ':' type=Type ('default' defaultValue=STRING)?;

    Type:
        VTypes | ListType | SetType;

    RType:
        VTypes | ListType | ID;


    // PrimitiveType corrections

    ListType: 'List<' type=Type '>';
    SetType: 'Set<' type=Type '>';




    // Terminal rules
    terminal ID: /[_a-zA-Z][_a-zA-Z0-9]*/;
    terminal INT: /[0-9]+/;
    terminal STRING: /"[^"]*"/;
    terminal PATH: /\/[a-zA-Z0-9_\-\/]+/;

    //VTypes is an attribute that would conatain the type of each attribute f our entities:/Double|Long|Float|Int|Boolean|Char|Byte|String/;


    type VTypes = 'Float' | 'Long' | 'Integer' | 'Char' | 'Boolean'| 'Byte'|'String';
    VTypes returns VTypes:
        Val1 |  Val2 |Val3 |Val4 |Val5 |Val6|Val7  ;
    Val1 returns string: 'Float';
    Val2 returns string: 'Long';
    Val3 returns string: 'Integer';
    Val4 returns string:'Char';
    Val5 returns string: 'Boolean';
    Val6 returns string: 'Byte';
    Val7 returns string: 'String';


    // HttpMethods =/G=GET|P2=PUT|D=DELETE|P1=POST|P3=PATCH/;
    type HttpMethods = 'Get' | 'Delete' | 'Post' | 'Put' | 'Patch';
    HttpMethods returns HttpMethods:
        GET | POST | PUT |PATCH |DELETE ;
    GET returns string: 'Get';
    DELETE returns string: 'Delete';
    POST returns string: 'Post';
    PUT returns string:'Put';
    PATCH returns string: 'Patch';

    //DATABASE TYPES  THAT CAN BE ASSIGNED TO THE PROJECT
    type RDBMS = 'Mysql' | 'Postgres' | 'Mariadb' | 'h2' | 'Oracle';
    RDBMS returns RDBMS:
        POSTGRES | MYSQL | MARIADB |H2 |ORACLE |H2;
    POSTGRES returns string: 'Postgres';
    MARIADB returns string: 'Mariadb';
    MYSQL returns string: 'Mysql';
    ORACLE returns string:'Oracle';
    H2 returns string: 'h2';
    // Ignored terminals
    hidden terminal WS: /\s+/;
    hidden terminal ML_COMMENT: /\/\*[\s\S]*?\*\//;
    hidden terminal SL_COMMENT: /\/\/[^\n\r]*/;
</pre>

## example of an possible Sboot instance
### instance:
    
<pre>
        project MyApplication
        config {
            server {
                port 8080
                cpath /api
            }
            database {
                dbms Mysql
                dname mydb
                dport 3036
                username user
                password pass
                
            }
        }

        entity User {
            id: Integer
            name: String
            email: String 
        }

        entity Product {
            id: Integer
            name: String
            price: Float
        }

        dto UserDTO {
            id: Integer
            name: String
        }

        dto ProductDTO {
            id: Integer
            name: String
            price: Float
        }

        service UserService pertainingTo User {
            operation createUser {
                returns UserDTO
            params (userName: String userEmail: String)
            }
            operation updateUser {
                returns UserDTO
                params (userId:Integer userName: String)
            }
        }

        service ProductService pertainingTo Product {
            operation createProduct {
                returns ProductDTO
                params (productId: Integer  productName: String  productPrice: Float)
            }
            operation updateProduct {
                returns ProductDTO
                params (productId: Integer  productName: String)
            }
        }

        controller UserController mappingTo User {
            Post action createUserAction {
                linkedTo createUser
                mappedAt "/users/create"
            }
            Put action updateUserAction {
                linkedTo updateUser
                mappedAt "/users/update"
            }
        }

        controller ProductController mappingTo Product {
            Get action createProductAction {
                linkedTo createProduct
                mappedAt "/products/create"
            }
            Put action updateProductAction {
                linkedTo updateProduct
                mappedAt "/products/update"
            }
        }

        repository UserRepository for User {
            find by name And id
            delete by id 
        }

        repository ProductRepository for Product {
            find by name
            delete by id
        }

    </pre>

### Syntax tree for the instance:
<pre>
        {
        $type: "Head", 
        name: "MyApplication", 
        configuration: 
        {
        $type: "Configuration", 
        server: 
        {
        $type: "ServerInfo", 
        port: 8080, 
        path: "/api"
        }, 
        database: 
        {
        $type: "DatabaseInfo", 
        type: "Mysql", 
        name: "mydb", 
        port: 3036, 
        username: "user", 
        password: "pass"
        }
        }, 
        elements: 
        [
        {
        $type: "Entity", 
        name: "User", 
        properties: 
        [
        {
        $type: "Property", 
        name: "id", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "name", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "email", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "Entity", 
        name: "Product", 
        properties: 
        [
        {
        $type: "Property", 
        name: "id", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "name", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "price", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "DTO", 
        name: "UserDTO", 
        properties: 
        [
        {
        $type: "Property", 
        name: "id", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "name", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "DTO", 
        name: "ProductDTO", 
        properties: 
        [
        {
        $type: "Property", 
        name: "id", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "name", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "Property", 
        name: "price", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "Service", 
        name: "UserService", 
        entity: Reference('#/elements@0'), 
        actions: 
        [
        {
        $type: "ServiceAction", 
        name: "createUser", 
        returnType: 
        {
        $type: "RType"
        }, 
        parameters: 
        [
        {
        $type: "ActionParameter", 
        name: "userName", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "ActionParameter", 
        name: "userEmail", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "ServiceAction", 
        name: "updateUser", 
        returnType: 
        {
        $type: "RType"
        }, 
        parameters: 
        [
        {
        $type: "ActionParameter", 
        name: "userId", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "ActionParameter", 
        name: "userName", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }
        ]
        }, 
        {
        $type: "Service", 
        name: "ProductService", 
        entity: Reference('#/elements@1'), 
        actions: 
        [
        {
        $type: "ServiceAction", 
        name: "createProduct", 
        returnType: 
        {
        $type: "RType"
        }, 
        parameters: 
        [
        {
        $type: "ActionParameter", 
        name: "productId", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "ActionParameter", 
        name: "productName", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "ActionParameter", 
        name: "productPrice", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }, 
        {
        $type: "ServiceAction", 
        name: "updateProduct", 
        returnType: 
        {
        $type: "RType"
        }, 
        parameters: 
        [
        {
        $type: "ActionParameter", 
        name: "productId", 
        type: 
        {
        $type: "Type"
        }
        }, 
        {
        $type: "ActionParameter", 
        name: "productName", 
        type: 
        {
        $type: "Type"
        }
        }
        ]
        }
        ]
        }, 
        {
        $type: "Controller", 
        name: "UserController", 
        entity: Reference('#/elements@0'), 
        actions: 
        [
        {
        $type: "ControllerAction", 
        method: "Post", 
        name: "createUserAction", 
        serviceAction: "createUser", 
        url: "/users/create", 
        parameters: []
        }, 
        {
        $type: "ControllerAction", 
        method: "Put", 
        name: "updateUserAction", 
        serviceAction: "updateUser", 
        url: "/users/update", 
        parameters: []
        }
        ]
        }, 
        {
        $type: "Controller", 
        name: "ProductController", 
        entity: Reference('#/elements@1'), 
        actions: 
        [
        {
        $type: "ControllerAction", 
        method: "Get", 
        name: "createProductAction", 
        serviceAction: "createProduct", 
        url: "/products/create", 
        parameters: []
        }, 
        {
        $type: "ControllerAction", 
        method: "Put", 
        name: "updateProductAction", 
        serviceAction: "updateProduct", 
        url: "/products/update", 
        parameters: []
        }
        ]
        }, 
        {
        $type: "Repository", 
        name: "UserRepository", 
        entity: Reference('#/elements@0'), 
        methods: 
        [
        {
        $type: "FindByMethod", 
        property: "name"
        }, 
        {
        $type: ..., 
        property: "id", 
        prop: "name"
        }
        ]
        }, 
        {
        $type: "Repository", 
        name: "ProductRepository", 
        entity: Reference('#/elements@1'), 
        methods: [...]
        }
        ]
        }
</pre>

